var y=Object.defineProperty;var D=Object.getOwnPropertySymbols;var w=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable;var u=(s,l,o)=>l in s?y(s,l,{enumerable:!0,configurable:!0,writable:!0,value:o}):s[l]=o,c=(s,l)=>{for(var o in l||(l={}))w.call(l,o)&&u(s,o,l[o]);if(D)for(var o of D(l))T.call(l,o)&&u(s,o,l[o]);return s};var a=(s,l,o)=>(u(s,typeof l!="symbol"?l+"":l,o),o);(function(s,l){typeof exports=="object"&&typeof module!="undefined"?l(exports):typeof define=="function"&&define.amd?define(["exports"],l):(s=typeof globalThis!="undefined"?globalThis:s||self,l(s.CalendarGraph={}))})(this,function(s){"use strict";function l(r=new Date){let t=r.getFullYear();return t%4==0&&t%100!=0||t%400==0}function o(r=new Date){return new Date(r.getFullYear(),0,1)}function d(r=new Date){const t=Date.UTC(r.getFullYear(),r.getMonth(),r.getDate()),n=Date.UTC(r.getFullYear(),0,0);return(t-n)/1e3/60/60/24}class g{constructor(t,n){a(this,"width");a(this,"height");a(this,"gridData");this.offsetCellCount=t,this.options=n,this.init()}init(){let t=l()?366:365;this.gridData=new Array(t).fill(null).map((n,i)=>this.getCellPostionByDay(i+1)),this.setGridWidthHeight(t)}setGridWidthHeight(t){let{size:n,space:i}=this.options,e=Math.ceil((this.offsetCellCount+t)/7);this.width=e*n+(e-1)*i,this.height=7*n+6*i}getCellPostionByDay(t){let{size:n,space:i}=this.options,[e,h]=this.getCellRowColumnByDay(t),f=h*n+h*i,m=this.options.offsetY+e*n+e*i;return{x:f,y:m}}getCellRowColumnByDay(t){let{offsetCellCount:n}=this,i=Math.ceil((t+n)/7),e=7-(7*i-t-n);return i=i-1>0?i-1:0,e=e-1>0?e-1:0,[e,i]}static mergeData(t,n){const i=n.reduce((e,h)=>{let f=d(new Date(h.date));return e[f]=h,e},{});for(let e=0;e<t.length;e++)t[e]=c(c({},t[e]),i[e]);return t}}class p{constructor(t){a(this,"monthTitleData");this.init(t)}init(t){this.monthTitleData=new Array(12).fill(null).map((n,i)=>{let e=this.getMonthColumn(i,t.offsetCellCount);return{title:i+1+"\u6708",x:e*t.size+(e-1>0?e-1:0)*t.space,y:0}})}getMonthColumn(t,n){let i=new Date(new Date().getFullYear(),t,1+n),e=d(i),h=i.getDay(),f=Math.ceil(e/7)-1;return h==1?f:f+1}}class C{constructor(t){a(this,"offsetCellCount",0);a(this,"options");a(this,"calendarWidth");a(this,"calendarHeight");a(this,"monthTitleData");a(this,"gridData");this.offsetCellCount=this.getOffsetCellCount(),this.options=t,this.init()}init(){this.monthTitleData=new p({offsetCellCount:this.offsetCellCount,size:this.options.size,space:this.options.space}).monthTitleData;let t=new g(this.offsetCellCount,{offsetY:this.options.titleHeight,size:this.options.size,space:this.options.space});this.gridData=t.gridData,this.calendarWidth=t.width,this.calendarHeight=t.height+this.options.titleHeight}getOffsetCellCount(){let t=0,n=o().getDay();return n==0?t=6:t=n-1,t}}a(C,"mergeData",g.mergeData),s.CalendarGraph=C,Object.defineProperties(s,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
